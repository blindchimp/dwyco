Notes related to Qt for Android building

ca 2018
dwightm

Building phoo on Windows using msvc2015

The main gotcha is that the delay-loading of the mtcapxe.dll
video drivers does not link anymore because of changes MS has
made to the linker since MSVC2008. This is a problem because the
DLL will crash unless it is delay-loaded. On the old CDC-X, since we
use MSVC2008 to build it, there is no problem. With Qt5, we don't have
support for MSVC2008, so we cannot use mtcapxe.dll. The reason it needs
to be delay loaded is super-obscure... it caused weird crashes on
some machines.

Anyway, with phoo, you are stuck using the VGQT driver, which has its
own set of problems on Windows (ie, it won't work prior to Qt5.11 because
of a missing VideoProbe implementation in Qt, and
in 5.11.1 the implementation is buggy.)

Sun Feb 28 12:50:57 MST 2016
dwightm

some of the build stuff depends on jre

sudo apt-get install default-jre default-jdk

if you are using the apache Http stuff, you need to make sure you
set the android level to android-20, as it is removed for android-23.
this level is set in qtcreator in the project pane under "android apk build"
or something like that.

be sure to install the platform tools using the "android" command
in the android sdk. also, install the development packages for the
version of android you are targetting (like 4.4, 5.1, etc.) some of the
tools don't play nice with qt, the one that appears to work ok is
23.0.3 of the sdk build-tools

some of the binaries in the ndk/sdk are 32bit, even when you download
64bit SDK's. on ubuntu, you need to do this:

sudo dpkg --add-architecture i386
sudo apt-get update
sudo apt-get install libncurses5:i386 libstdc++6:i386 zlib1g:i386

Wed Mar 22 16:16:41 MST 2017
WARNING:
if you use gradle with the android version, qt-creator doesn't always update
the "gradle.properties" file properly, which can lead to weird
errors like "invalid version: android-4.4W". gradle.properties is autogenerated, so you can just remove it and it should re-create it ok.
likewise with the file android0libphoo.so-deployment-settings.json.
you *may* also have to go to android/<sdk>/build-tools and remove old versions of the build tools, especially the "android-4.4W" directory, which seems to be the source of the problem.
honestly, i'm not sure where it is getting the bogus info from, but i had to remove the android-4.4W that is in the sdk folder, reinstall (the name will be 25.2.0" or something like that) quit everything, and LOGOUT before it started getting the right build tools
